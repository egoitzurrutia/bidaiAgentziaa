<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuarios</title>
	<link rel="stylesheet" href="../css/nav.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
</head>
<body>
    <div th:replace="fragments/navbar ::navbar"></div>

    <div class="container">
        <h1 class="my-4">Lista de Usuarios</h1>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th scope="col" class="col-4">ID</th>
                    <th scope="col" class="col-4">Nombre</th>
                    
                    <th scope="col" class="col-4">Acción</th> <!-- Columna para el botón -->
                </tr>
            </thead>
            <tbody>
                <!-- Itera sobre la lista de usuarios y muestra cada uno en una fila -->
                <th:block th:each="persona : ${personas}">
                    <tr>
                        <td th:text="${persona.id}"></td>
                        <td th:text="${persona.nombre}"></td>
                        
						<td>
						    <!-- Botón para ver detalles -->
						    <a th:href="@{/usuarios/{id}(id=${persona.id})}" class="btn btn-primary">
						        Ver detalles
						    </a>

						    <!-- Botón para borrar -->
						    <a th:href="@{/usuarios/borrar/{id}(id=${persona.id})}" 
						       class="btn btn-danger" 
						       onclick="return confirm('¿Estás seguro de que deseas borrar esta persona?');">
						        Borrar
						    </a>

						    <!-- Botón para actualizar -->
						    <a th:href="@{/usuarios/actualizar/{id}(id=${persona.id})}" 
						       class="btn btn-warning">
						        Actualizar
						    </a>
						</td>

                    </tr>
                </th:block>
            </tbody>
        </table>
    </div>
</body>
</html>
